<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>GenAI Workflow for wearableAnomaly • wearableAnomaly</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="GenAI Workflow for wearableAnomaly">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">wearableAnomaly</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>GenAI Workflow for wearableAnomaly</h1>
            
      

      <div class="d-none name"><code>genai-tutorial.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette documents how generative AI tools helped build the
<strong>wearableAnomaly</strong> package. It summarizes the prompts,
workflows, and guardrails used while turning the Biostat 615 project
outline into a reproducible R package.</p>
</div>
<div class="section level2">
<h2 id="tools-used">Tools used<a class="anchor" aria-label="anchor" href="#tools-used"></a>
</h2>
<ul>
<li>
<strong>ChatGPT</strong>: high-level planning, function specs, and
prompt refinement.</li>
<li>
<strong>GitHub Copilot / Codex in VS Code</strong>: implementation,
refactors, and inline completions.</li>
<li>
<strong>pkgdown / R CMD check</strong>: final validation and
documentation builds.</li>
</ul>
</div>
<div class="section level2">
<h2 id="development-workflow">Development workflow<a class="anchor" aria-label="anchor" href="#development-workflow"></a>
</h2>
<ol style="list-style-type: decimal">
<li>
<strong>Draft specs in ChatGPT</strong>: describe the function
purpose, inputs, outputs, and invariants before writing code.</li>
<li>
<strong>Turn specs into Codex prompts</strong>: feed the scoped
requirements into VS Code’s Codex agent for implementation.</li>
<li>
<strong>Code &amp; refactor in Codex</strong>: iterate on R/Rcpp
functions, tests, and helper scripts, verifying each change
locally.</li>
<li>
<strong>ChatGPT for API redesign</strong>: when internal schemas
(nested tibbles, list columns) became confusing, use ChatGPT to reason
about better interfaces.</li>
<li>
<strong>Test → Re-prompt cycle</strong>: run unit tests and
benchmark scripts, note failures, then re-prompt ChatGPT/Codex with the
failing scenario and desired fix.</li>
<li>
<strong>Document &amp; polish</strong>: after code stabilized, use
the same workflow to produce README, vignettes, and pkgdown
navigation.</li>
</ol>
<!-- Insert screenshot: example prompt iteration -->
</div>
<div class="section level2">
<h2 id="example-prompts">Example prompts<a class="anchor" aria-label="anchor" href="#example-prompts"></a>
</h2>
<blockquote>
<p><strong>Prompt (ChatGPT)</strong>: “Outline a
<code>detect_rate_change</code> function for CGM data. Inputs: wa_ts,
window, threshold, scaling (MAD/SD/none). Outputs: tibble with
id,start,end,type,strength.”</p>
</blockquote>
<blockquote>
<p><strong>Prompt (Codex)</strong>: “Given the spec above, implement the
R function under R/artifacts.R, add roxygen comments, and plug into the
existing merge pipeline.”</p>
</blockquote>
<blockquote>
<p><strong>Prompt (ChatGPT)</strong>: “Given this failing test output
(paste <code>test_pelt</code> diff), explain how to reconcile Rcpp and R
implementations and update the penalty docs.”</p>
</blockquote>
<blockquote>
<p><strong>Prompt (Codex)</strong>: “Refactor
<code><a href="../reference/evaluate_methods.html">evaluate_methods()</a></code> so it accepts a list of prediction
objects, attaches runtime metadata, and returns a tibble with
method/runtime/precision/recall/F1/IoU/MAE as used in the slides.”</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="what-worked-well">What worked well<a class="anchor" aria-label="anchor" href="#what-worked-well"></a>
</h2>
<ul>
<li>Rapid scaffolding of package structure and consistent naming.</li>
<li>Generating Rcpp boilerplate (RcppExports, pelt_core.cpp,
ed_core.cpp) with minimal hand-editing.</li>
<li>Producing starter tests and roxygen templates that already matched
standards.</li>
<li>Quick iteration on README and vignette outlines before filling in
real data.</li>
</ul>
</div>
<div class="section level2">
<h2 id="what-didnt-work-well">What didn’t work well<a class="anchor" aria-label="anchor" href="#what-didnt-work-well"></a>
</h2>
<ul>
<li>Nested tibble/list schemas often confused Codex; manual fixes were
required.</li>
<li>Ambiguous prompts yielded incorrect column names or wrong units
(minutes vs seconds).</li>
<li>Complex statistical reasoning (penalties, energy distance variants)
still needed hand-derived formulas.</li>
<li>Without precise specs, Codex hallucinated helper functions or forgot
to update tests.</li>
</ul>
</div>
<div class="section level2">
<h2 id="validation-strategy">Validation strategy<a class="anchor" aria-label="anchor" href="#validation-strategy"></a>
</h2>
<ul>
<li>
<strong>Unit tests</strong>: ran <code>tests/testthat/</code> after
each major change; many Codex-generated snippets failed initially and
required re-prompts.</li>
<li>
<strong>Comparator benchmarks</strong>: compared wearableAnomaly
PELT/E-divisive to <a href="https://github.com/rkillick/changepoint/" class="external-link">changepoint</a> and <code>{ecp}</code>
(when installed) using the bench scripts and
<code>evaluate_methods</code>.</li>
<li>
<strong>Visual inspection</strong>: used the workflow vignette’s
episode tables + overlay plot to verify detectors/changepoints.</li>
<li>
<strong>pkgdown/site builds</strong>: forced
<code><a href="https://pkgdown.r-lib.org/reference/build_site.html" class="external-link">pkgdown::build_site()</a></code> to ensure documentation matched the
exported API.</li>
</ul>
</div>
<div class="section level2">
<h2 id="lessons-learned-advice">Lessons learned / advice<a class="anchor" aria-label="anchor" href="#lessons-learned-advice"></a>
</h2>
<ul>
<li>Write precise mini-specs before prompting; ambiguity amplifies
hallucinations.</li>
<li>Treat AI output as a draft—tests and benchmarks are
non-negotiable.</li>
<li>Iterative prompt adjustments beat one long mega prompt.</li>
<li>Let AI handle repetitive scaffolding, but keep humans in charge of
statistical logic.</li>
<li>Capture the workflow (like this vignette) so reviewers see the GenAI
contribution.</li>
</ul>
<!-- Insert screenshot: summarized prompt vs final code -->
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Neo Kok.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
